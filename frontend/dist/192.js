/*! For license information please see 192.js.LICENSE.txt */
"use strict";(self.webpackChunkmq_navigator3_0client=self.webpackChunkmq_navigator3_0client||[]).push([[192],{9192:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var r=n(6540),o=n(7767),a=n(2295),i=n(8639),l=n(8046),u=(n(2216),n(216)),c=n(7525),s=n(2845),f=n(246);function d(e){var t=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),r=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0"),a=String(e.getSeconds()).padStart(2,"0");return"".concat(t).concat(n," ").concat(r).concat(o).concat(a)}function v(e){var t=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4),r=Math.floor(e%6e4/1e3);return"".concat(String(t).padStart(2,"0"),":").concat(String(n).padStart(2,"0"),":").concat(String(r).padStart(2,"0"))}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return(t=function(e){var t=function(e){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const E=function(e){var t,n,o=e.gateState,a=e.previousGateTime,i=e.isModify,u=e.onGateChange,c=e.handleRemoveGate,f=g((0,r.useState)(o.time?d(new Date(o.time)):null),2),v=f[0],p=f[1],h=g((0,r.useState)(o.coordinate?o.coordinate.latitude:null),2),y=h[0],b=h[1],E=g((0,r.useState)(o.coordinate?o.coordinate.longitude:null),2),S=E[0],w=E[1],O=g((0,r.useState)(null!==(t=o.coordinate)&&void 0!==t&&t.latitude?o.coordinate.latitude>=0?"north":"south":null),2),x=O[0],T=O[1],A=g((0,r.useState)(null!==(n=o.coordinate)&&void 0!==n&&n.longitude?o.coordinate.longitude>=0?"east":"west":null),2),j=A[0],D=A[1],_=g((0,r.useState)(!1),2),C=_[0],P=_[1];(0,r.useEffect)((function(){var e,t,n,r;p(o.time?d(new Date(o.time)):null),b(o.coordinate?o.coordinate.latitude:null),w(o.coordinate?o.coordinate.longitude:null),null!==(null===(e=o.coordinate)||void 0===e?void 0:e.latitude)&&void 0!==(null===(t=o.coordinate)||void 0===t?void 0:t.latitude)&&T(o.coordinate.latitude>=0?"north":"south"),null!==(null===(n=o.coordinate)||void 0===n?void 0:n.longitude)&&void 0!==(null===(r=o.coordinate)||void 0===r?void 0:r.longitude)&&D(o.coordinate.longitude>=0?"east":"west")}),[o.coordinate,o.time]);var I=(0,r.useCallback)((function(e){var t=e.target.value,n=function(e){if(!/^\d{4} \d{6}$/.test(e))return null;var t=parseInt(e.slice(0,2),10)-1,n=parseInt(e.slice(2,4),10),r=parseInt(e.slice(5,7),10),o=parseInt(e.slice(7,9),10),a=parseInt(e.slice(9,11),10),i=new Date((new Date).getFullYear(),t,n,r,o,a);return i.getMonth()!==t||i.getDate()!==n?null:i}(t);if(!n)return s.oR.warn("Invalid time format or date. Please use MMDD hhmmss."),p(o.time?d(new Date(o.time)):null),void P(!0);var r,i,l,c,f,v,h,y,g=(i=(r=n).getFullYear(),l=String(r.getMonth()+1).padStart(2,"0"),c=String(r.getDate()).padStart(2,"0"),f=String(r.getHours()).padStart(2,"0"),v=String(r.getMinutes()).padStart(2,"0"),h=String(r.getSeconds()).padStart(2,"0"),y=String(r.getMilliseconds()).padStart(3,"0"),"".concat(i,"-").concat(l,"-").concat(c,"T").concat(f,":").concat(v,":").concat(h,".").concat(y));if(a&&new Date(g)<new Date(a))return s.oR.error("Time cannot be earlier than the previous gate."),void P(!0);P(!1),p(t),u(m(m({},o),{},{time:g})),s.oR.dismiss(),s.oR.success("Time has been successfully converted")}),[o,u]);return r.createElement(l.UC,null,r.createElement(l.wV,null,r.createElement(l.lV,{className:"width70px"},o.sequence),r.createElement(l.U9,{className:"width120px ".concat(C?"warning":""),value:v||"",onChange:function(e){p(e.target.value)},onBlur:I,disabled:!i}),r.createElement(l.OQ,{className:"width50px",value:x||"",onChange:function(e){var t=e.target.value;if(T(t),null!==y){var n,r,a="south"===t?-Math.abs(y):Math.abs(y);b(a),u(m(m({},o),{},{coordinate:m(m({},o.coordinate),{},{latitude:a,longitude:null!==(n=null===(r=o.coordinate)||void 0===r?void 0:r.longitude)&&void 0!==n?n:null})}))}},disabled:!i},r.createElement("option",{value:"north"},"N"),r.createElement("option",{value:"south"},"S")),r.createElement(l.U9,{className:"flex ".concat(null===y?"warning":""),type:"number",step:"0.01",value:null!==y?Math.abs(y):"",onChange:function(e){b(parseFloat(e.target.value))},onBlur:function(e){if(null!==y&&(y<0||y>90))s.oR.warn("Latitude must be between 0 and 90."),b(null);else if(null!==y){var t,n,r=Number(e.target.value);"south"==x&&(r=-1*Math.abs(r)),b(r),u(m(m({},o),{},{coordinate:m(m({},o.coordinate),{},{latitude:r,longitude:null!==(t=null===(n=o.coordinate)||void 0===n?void 0:n.longitude)&&void 0!==t?t:null})}))}},disabled:!i}),r.createElement(l.OQ,{className:"width50px",value:j||"",onChange:function(e){var t=e.target.value;if(D(t),null!==S){var n,r,a="west"===t?-Math.abs(S):Math.abs(S);w(a),u(m(m({},o),{},{coordinate:m(m({},o.coordinate),{},{latitude:null!==(n=null===(r=o.coordinate)||void 0===r?void 0:r.latitude)&&void 0!==n?n:null,longitude:a})}))}},disabled:!i},r.createElement("option",{value:"east"},"E"),r.createElement("option",{value:"west"},"W")),r.createElement(l.U9,{className:"flex ".concat(null===S?"warning":""),type:"number",step:"0.01",value:null!==S?Math.abs(S):"",onChange:function(e){w(parseFloat(e.target.value))},onBlur:function(e){if(null!==S&&(S<0||S>180))s.oR.warn("Longitude must be between 0 and 180."),w(null);else if(null!==S){var t,n,r=Number(e.target.value);"west"==j&&(r=-1*Math.abs(r)),w(r),u(m(m({},o),{},{coordinate:m(m({},o.coordinate),{},{longitude:r,latitude:null!==(t=null===(n=o.coordinate)||void 0===n?void 0:n.latitude)&&void 0!==t?t:null})}))}},disabled:!i}),r.createElement(l.JH,{onClick:c,disabled:!i},r.createElement("i",{className:"fa-solid fa-xmark"}))))};var S=n(8779);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function O(){O=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),l=new I(r||[]);return o(i,"_invoke",{value:D(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",v="suspendedYield",p="executing",h="completed",m={};function y(){}function g(){}function b(){}var E={};c(E,i,(function(){return this}));var S=Object.getPrototypeOf,x=S&&S(S(N([])));x&&x!==n&&r.call(x,i)&&(E=x);var T=b.prototype=y.prototype=Object.create(E);function A(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function n(o,a,i,l){var u=f(e[o],e,a);if("throw"!==u.type){var c=u.arg,s=c.value;return s&&"object"==w(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(u.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function D(t,n,r){var o=d;return function(a,i){if(o===p)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var l=r.delegate;if(l){var u=_(l,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?h:v,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=h,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(w(t)+" is not iterable")}return g.prototype=b,o(T,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},A(j.prototype),c(j.prototype,l,(function(){return this})),t.AsyncIterator=j,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new j(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(T),c(T,u,"Generator"),c(T,i,(function(){return this})),c(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return l.type="throw",l.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function x(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){x(a,r,o,i,l,"next",e)}function l(e){x(a,r,o,i,l,"throw",e)}i(void 0)}))}}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return(t=function(e){var t=function(e){if("object"!=w(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==w(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return I(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const N=function(){var e=(0,u.A)(),t=e.gatesState,n=e.updateGatesHook,d=C((0,r.useState)([]),2),v=d[0],p=d[1],h=(0,c.A)(),m=h.workspaceState,y=h.postAddRouteAsyncHook,g=h.putRouteAsyncHook,b=h.putRoutesAsyncHook,w=m.route,x=m.routes,A=C((0,r.useState)(m.route),2),D=A[0],P=A[1],I=C((0,r.useState)(m.routes),2),N=I[0],k=I[1],L=(0,S.A)().isLive,G=(0,o.KC)().setIsModify,M=C((0,r.useState)(!1),2),R=M[0],B=M[1],U=(0,o.g)().url;(0,r.useEffect)((function(){p(t)}),[t]),(0,r.useEffect)((function(){P(w)}),[w]),(0,r.useEffect)((function(){k(x)}),[x]),(0,r.useEffect)((function(){Z(v)}),[v]),(0,r.useEffect)((function(){var e=document.getElementById("sortable-gates");if(e&&R){var t=f.Ay.create(e,{onEnd:function(e){var t=_(v);if(null!=e.oldIndex&&null!=e.newIndex){var n=C(t.splice(e.oldIndex,1),1)[0];t.splice(e.newIndex,0,n);var r=t.map((function(e,t){return j(j({},e),{},{sequence:t})}));p(r)}}});return function(){t.destroy()}}}),[R,v]);var V=(0,r.useCallback)(T(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U){e.next=17;break}return e.prev=1,e.next=4,n(U,v);case 4:return e.next=6,g(U,D);case 6:return e.next=8,b(U,N);case 8:B(!1),G(!1),s.oR.dismiss(),s.oR.success("The gates have been successfully updated"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),s.oR.error("Failed to update the gates");case 17:case"end":return e.stop()}}),e,null,[[1,14]])}))),[g,b,G,n,v,D,N,U]),F=function(){var e=T(O().mark((function e(t){var n,r,o,a,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("createRoute"!==(n=t.target.value)||!U){e.next=22;break}return e.prev=2,e.next=5,y(U,{id:0,name:"New Route",coordinates:[]});case 5:return r=e.sent,P(r),k((function(e){return[].concat(_(e),[r])})),o=K(v,r),p(o),e.next=12,b(U,[].concat(_(x),[r]));case 12:s.oR.dismiss(),s.oR.success("New route created and gates updated"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),s.oR.error("Failed to create route"),console.error("Error creating new route:",e.t0);case 20:e.next=24;break;case 22:(a=x.find((function(e){return e.id.toString()===n})))&&(P(a),i=K(v,a),p(i));case 24:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}(),K=(0,r.useCallback)((function(e,t){var n=e.map((function(e,n){return j(j({},e),{},{coordinate:t.coordinates[n]||{latitude:null,longitude:null}})}));if(e.length<t.coordinates.length)for(var r=e.length;r<t.coordinates.length;r++)n.push({id:0,sequence:r,time:null,coordinate:{latitude:t.coordinates[r].latitude,longitude:t.coordinates[r].longitude},traveledDistance:null});return n}),[]),H=(0,r.useCallback)((function(){p((function(e){var t,n,r=e[e.length-1]||{sequence:-1};return[].concat(_(e),[{id:0,sequence:r.sequence+1,time:r.time||null,coordinate:{latitude:(null===(t=r.coordinate)||void 0===t?void 0:t.latitude)||null,longitude:(null===(n=r.coordinate)||void 0===n?void 0:n.longitude)||null},traveledDistance:r.traveledDistance||null}])}))}),[]),Z=(0,r.useCallback)((function(e){var t=e.map((function(e){return e.coordinate}));if(D){var n=j(j({},D),{},{coordinates:t});P(n);var r=null==N?void 0:N.map((function(e){return e.id===n.id?j(j({},e),{},{coordinates:t}):e}));k(r)}}),[D,N]),q=(0,r.useCallback)((function(e){p((function(t){return t.filter((function(t,n){return n!==e}))}))}),[]);return r.createElement(l.UC,{style:{height:"calc((100vh - 126px) / 2)"}},r.createElement(l.UC,{style:{height:"120px"}},r.createElement(l.wV,{style:{justifyContent:"center",alignItems:"center",height:"53px",position:"relative"}},R&&r.createElement(l.By,{style:{position:"absolute",left:"10px"},onClick:H},"Add New Gate"),r.createElement(l.OQ,{style:{margin:"0 auto",position:"absolute"},value:(null==D?void 0:D.id)||"createRoute",onChange:F,disabled:!R},N.map((function(e,t){return r.createElement("option",{key:t,value:e.id},e.name)})),r.createElement("option",{value:"createRoute"},"Change Route Directly")),!L&&(R?r.createElement(l.By,{style:{position:"absolute",right:"0"},onClick:function(){return V()}},"Save"):r.createElement(l.By,{style:{position:"absolute",right:"0"},onClick:function(){return B(!0),void G(!0)}},"Modify"))),r.createElement(l.wV,null,r.createElement(l.lV,{className:"width70px"},"Gate",r.createElement("br",null),"Number"),r.createElement(l.lV,{className:"width120px"},"Time",r.createElement("br",null),"MMDD hhmmss"),r.createElement(l.lV,{className:"flex"},"Latitude"),r.createElement(l.lV,{className:"flex"},"Longitude"),r.createElement(l.JH,{style:{visibility:"hidden"}},"X"),r.createElement("div",{className:"width6px"}))),r.createElement(i.a,{style:{height:"calc((100vh - 126px) / 2) - 120px"}},r.createElement(a.ur,null,r.createElement("div",{id:"sortable-gates"},v.map((function(e,t){var n;return r.createElement(E,{key:"".concat(e.id,"-").concat(t),keyValue:e.sequence,gateState:e,previousGateTime:null===(n=v[t-1])||void 0===n?void 0:n.time,isModify:R,onGateChange:function(e){return function(e,t){p((function(n){return n.map((function(n,r){return r===e?t:n}))}))}(t,e)},handleRemoveGate:function(){return q(t)}})}))))))};var k=n(5878),L=n(2798),G=n(437);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const B=function(e){var t=e.start,n=e.end,o=e.sectionDatas,a=e.speedPredictionInterval,i=(0,u.A)().gatesState,c=(0,S.A)().playbarState,s=M((0,r.useState)(null),2),f=s[0],d=s[1],p=M((0,r.useState)(null),2),h=p[0],m=p[1],y=M((0,r.useState)(null),2),g=y[0],b=y[1],E=M((0,r.useState)(null),2),w=E[0],O=E[1],x=M((0,r.useState)(null),2),T=x[0],A=x[1],j=M((0,r.useState)(null),2),D=j[0],_=j[1],C=M((0,r.useState)(null),2),P=C[0],I=C[1];return(0,r.useEffect)((function(){d((0,G.CT)(c,t)),m((0,G.CT)(c,n));var e=(0,G.gd)(f,h);b(e);var r=(0,G.Ye)(f,h);O(r);var o=(0,G.r8)(f,h);_(o);var i,l,u,s,v=null,p=null,y=null;if(a==k.sH.FIRST)null!=c&&null!==(i=c.firstGate)&&void 0!==i&&i.time&&null!=c&&null!==(l=c.latestGateBasedOnCurrent)&&void 0!==l&&l.time&&(p=null==c||null===(u=c.firstGate)||void 0===u?void 0:u.time,v=null==c||null===(s=c.latestGateBasedOnCurrent)||void 0===s?void 0:s.time,y=(0,G.gd)(null==c?void 0:c.firstGate,null==c?void 0:c.latestGateBasedOnCurrent));else if(a==k.sH.PREVIOUS){var E,S,w,x;null!=c&&null!==(E=c.previousGateBasedOnCurrent)&&void 0!==E&&E.time&&null!=c&&null!==(S=c.latestGateBasedOnCurrent)&&void 0!==S&&S.time&&(p=null==c||null===(w=c.previousGateBasedOnCurrent)||void 0===w?void 0:w.time,v=null==c||null===(x=c.latestGateBasedOnCurrent)||void 0===x?void 0:x.time,y=(0,G.gd)(null==c?void 0:c.previousGateBasedOnCurrent,null==c?void 0:c.latestGateBasedOnCurrent))}if(v&&p&&y){var T=y/(new Date(v).getTime()-new Date(p).getTime());I(3600*T),g&&A(g/T)}}),[t,n,i,c,f,h,a,g]),r.createElement(l.UC,null,r.createElement(l.wV,null,r.createElement(l.lV,{className:"width350px"},(0,L.B)(t)," ~ ",(0,L.B)(n)),o.map((function(e,t){return r.createElement(l.lV,{key:"".concat(e,"-").concat(t),className:"flex"},e===k.uK.DISTANCE&&null!==g?(0,G.mr)(g):"",e===k.uK.ELAPSED_TIME&&null!==w?v(w):"",e===k.uK.ESTIMATED_TIME&&null!==T?v(T):"",e===k.uK.ELAPSED_SPEED&&null!==D?(0,G.mr)(D):"",e===k.uK.ESTIMATED_SPEED&&null!==P?(0,G.mr)(P):"")}))))};var U=n(7180);const V=function(){var e=(0,U.A)().settingState,t=e.displaySections,n=e.sectionDatas,o=e.speedPredictionInterval;return r.createElement(l.UC,{style:{height:"calc((100vh - 126px) / 2)"}},r.createElement(l.UC,{style:{height:"60px"}},r.createElement(l.wV,null,r.createElement(l.lV,{className:"width350px"},"Gate Range"),n.map((function(e,t){return r.createElement(l.lV,{key:"".concat(e,"-").concat(t),className:"flex"},(0,L.P)(e),r.createElement("br",null),(0,G.c3)(e)," ")})))),r.createElement(i.a,{style:{height:"calc((100vh - 126px) / 2) - 60px"}},r.createElement(a.ur,null,t.map((function(e,t){return r.createElement(B,{key:t+1,keyValue:t,start:e.start,end:e.end,sectionDatas:n,speedPredictionInterval:o})})))))},F=function(){return r.createElement(r.Fragment,null,r.createElement(i.w,null,r.createElement(N,null)),r.createElement(i.w,null,r.createElement(V,null)))}},8639:(e,t,n)=>{n.d(t,{a:()=>u,w:()=>l});var r,o,a=n(3530);function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l=a.A.section(r||(r=i(["\n  margin: 0 10px 10px 10px;\n  border: 1px solid #eee;\n  display: flex;\n  flex-direction: column;\n"]))),u=a.A.div(o||(o=i(["\n  width: 100%;\n  display: flex;\n  flex: 1;\n"])))},2798:(e,t,n)=>{n.d(t,{B:()=>o,P:()=>a});var r=n(5878);function o(e){return e==r.aZ.FIRST_GATE?"first gate":e==r.aZ.LAST_GATE?"last gate":e==r.aZ.SELECTED_POINT?"selected point":e==r.aZ.CURRENT_POINT?"current point":e==r.aZ.PREVIOUS_GATE_BASED_ON_SELECTED?"previous gate by selected":e==r.aZ.LATEST_GATE_BASED_ON_SELECTED?"latest gate by selected":e==r.aZ.NEXT_GATE_BASED_ON_SELECTED?"next gate by selected":e==r.aZ.PREVIOUS_GATE_BASED_ON_CURRENT?"previous gate by current":e==r.aZ.LATEST_GATE_BASED_ON_CURRENT?"latest gate by current":e==r.aZ.NEXT_GATE_BASED_ON_CURRENT?"next gate by current":void 0}function a(e){return e==r.uK.DISTANCE?"Distance":e==r.uK.ELAPSED_TIME?"Time Taken":e==r.uK.ESTIMATED_TIME?"Expected Time":e==r.uK.ELAPSED_SPEED?"Average Speed":e==r.uK.ESTIMATED_SPEED?"Expected Speed":void 0}}}]);
//# sourceMappingURL=192.js.map